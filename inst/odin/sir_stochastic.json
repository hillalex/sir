{"version":"1.2.1","config":{"base":"sir_stochastic","include":null,"custom":null},"meta":{"internal":"internal","user":"user","state":"state","result":"state_next","output":"output","time":"step","initial_time":"initial_step"},"features":{"discrete":true,"has_array":false,"has_output":false,"has_user":true,"has_delay":false,"has_interpolate":false,"has_stochastic":true,"has_include":false,"initial_time_dependent":false},"data":{"elements":[{"name":"beta","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"I","location":"variable","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"I_ini","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"initial_I","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"initial_R","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"constant"},{"name":"initial_S","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"N","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"n_IR","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"n_SI","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"p_IR","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"p_SI","location":"transient","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"R","location":"variable","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"S","location":"variable","storage_type":"double","rank":0,"dimnames":null,"stage":"time"},{"name":"S_ini","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"},{"name":"sigma","location":"internal","storage_type":"double","rank":0,"dimnames":null,"stage":"user"}],"variable":{"length":3,"contents":[{"name":"S","offset":0,"initial":"initial_S"},{"name":"I","offset":1,"initial":"initial_I"},{"name":"R","offset":2,"initial":"initial_R"}]},"output":{"length":0,"contents":[]}},"equations":[{"name":"beta","type":"user","source":[26],"depends":null,"lhs":"beta","user":{"default":0.2,"dim":false,"min":null,"max":null}},{"name":"I_ini","type":"user","source":[25],"depends":null,"lhs":"I_ini","user":{"default":1,"dim":false,"min":null,"max":null}},{"name":"initial_I","type":"expression_scalar","source":[20],"depends":{"functions":[],"variables":["I_ini"]},"lhs":"initial_I","rhs":{"value":"I_ini"}},{"name":"initial_R","type":"expression_scalar","source":[21],"depends":null,"lhs":"initial_R","rhs":{"value":0}},{"name":"initial_S","type":"expression_scalar","source":[19],"depends":{"functions":[],"variables":["S_ini"]},"lhs":"initial_S","rhs":{"value":"S_ini"}},{"name":"N","type":"expression_scalar","source":[16],"depends":{"functions":["+"],"variables":["S","I","R"]},"lhs":"N","rhs":{"value":["+",["+","S","I"],"R"]}},{"name":"n_IR","type":"expression_scalar","source":[13],"depends":{"functions":["rbinom"],"variables":["I","p_IR"]},"lhs":"n_IR","rhs":{"value":["rbinom","I","p_IR"]}},{"name":"n_SI","type":"expression_scalar","source":[12],"depends":{"functions":["rbinom"],"variables":["S","p_SI"]},"lhs":"n_SI","rhs":{"value":["rbinom","S","p_SI"]}},{"name":"p_IR","type":"expression_scalar","source":[8],"depends":{"functions":["-","exp"],"variables":["sigma"]},"lhs":"p_IR","rhs":{"value":["-",1,["exp",["-","sigma"]]]}},{"name":"p_SI","type":"expression_scalar","source":[7],"depends":{"functions":["-","exp","/","*"],"variables":["beta","I","N"]},"lhs":"p_SI","rhs":{"value":["-",1,["exp",["/",["*",["-","beta"],"I"],"N"]]]}},{"name":"S_ini","type":"user","source":[24],"depends":null,"lhs":"S_ini","user":{"default":1000,"dim":false,"min":null,"max":null}},{"name":"sigma","type":"user","source":[27],"depends":null,"lhs":"sigma","user":{"default":0.1,"dim":false,"min":null,"max":null}},{"name":"update_I","type":"expression_scalar","source":[3],"depends":{"functions":["-","+"],"variables":["I","n_SI","n_IR"]},"lhs":"I","rhs":{"value":["-",["+","I","n_SI"],"n_IR"]}},{"name":"update_R","type":"expression_scalar","source":[4],"depends":{"functions":["+"],"variables":["R","n_IR"]},"lhs":"R","rhs":{"value":["+","R","n_IR"]}},{"name":"update_S","type":"expression_scalar","source":[2],"depends":{"functions":["-"],"variables":["S","n_SI"]},"lhs":"S","rhs":{"value":["-","S","n_SI"]}}],"components":{"create":{"variables":[],"equations":["initial_R"]},"user":{"variables":[],"equations":["beta","I_ini","S_ini","sigma","initial_I","initial_S","p_IR"]},"initial":{"variables":[],"equations":[]},"rhs":{"variables":["S","I","R"],"equations":["N","n_IR","p_SI","n_SI","update_R","update_I","update_S"]},"output":{"variables":[],"equations":[]}},"user":[{"name":"beta","has_default":true},{"name":"I_ini","has_default":true},{"name":"S_ini","has_default":true},{"name":"sigma","has_default":true}],"interpolate":{"min":[],"max":[],"critical":[]},"source":["## Core equations for transitions between compartments:","update(S) <- S - n_SI","update(I) <- I + n_SI - n_IR","update(R) <- R + n_IR","","## Individual probabilities of transition:","p_SI <- 1 - exp(-beta * I / N) # S to I","p_IR <- 1 - exp(-sigma) # I to R","","## Draws from binomial distributions for numbers changing between","## compartments:","n_SI <- rbinom(S, p_SI)","n_IR <- rbinom(I, p_IR)","","## Total population size","N <- S + I + R","","## Initial states:","initial(S) <- S_ini","initial(I) <- I_ini","initial(R) <- 0","","## User defined parameters - default in parentheses:","S_ini <- user(1000)","I_ini <- user(1)","beta <- user(0.2)","sigma <- user(0.1)"]}
